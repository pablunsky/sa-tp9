version: '3'

services:
  proxy:
    build: PROXY/.
    links:
      - cliente:cliente
      - restaurante:restaurante
      - repartidor:repartidor
      - esb:esb
    ports:
      - 80:80
  cliente:
    build: CLIENTE/.
    command: node app.js
    links:
      - esb:esb
  restaurante:
    build: RESTAURANTE/.
    command: node app.js
    links:
      - esb:esb
  repartidor:
    build: REPARTIDOR/.
    command: node app.js
    links:
      - esb:esb
  esb:
    build: ESB/.
    command: node app.js
    links:
      - cliente:cliente
      - restaurante:restaurante
      - repartidor:repartidor